repositories {
	mavenCentral()
}

apply plugin: "java"

dependencies {
	compile "org.apache.commons:commons-lang3:3.10"
}

sourceSets {
	main.java.srcDir "src/main"
	test.java.srcDir "src/test"
}

jar { 
	from configurations.compile.collect { zipTree it } 
	manifest.attributes "Main-Class": "com.alifmunim.Main"
}

task hello {
	group "greeting"
	description "Greets you."
	
	println "Hello from the configuration phase!"
	ext.greeting = "Howdy"
	
	doLast { println "$greeting from the execution phase!" }
}

task run(type: JavaExec, dependsOn: classes) {
	main "com.alifmunim.Main"
	classpath sourceSets.main.runtimeClasspath
	args "Hello World"
}

task runJar(type: Exec, dependsOn: "jar") {
	executable "java"
	args "-jar", "$jar.archivePath", "Hello World"
	
}

task boolTask {
	onlyIf { true }
	doLast { println "True!" }
} 

task writeGreeting {
	outputs.file file("greeting.txt")
	doLast { file("greeting.txt").text = "Hello, reader.\n" }
}
